@page "/counter"

<MudMenu FullWidth="false" Class="d-flex justify-center" Label="Open Menu"  PositionAtCursor="true">
    <ActivatorContent>
        <MudButton Variant="Variant.Filled" Color="Color.Surface" FullWidth="true" Size="Size.Small" Class="pa-0">
            Counter #gfdg5645665
        </MudButton>
    </ActivatorContent>
    <ChildContent>
        <MudMenuItem OnClick="@Enlist">Enlist</MudMenuItem>
        <MudMenuItem>Barracks</MudMenuItem>
        <MudMenuItem>Armory</MudMenuItem>
    </ChildContent>

</MudMenu>


<MudText Class="mb-4">Current count: @currentCount</MudText>
<MudButton Color="Color.Primary" Variant="Variant.Filled" @onclick="IncrementCount">Click me</MudButton>


<MudChipSet @ref="MCS" AllClosable="true" OnClose="Closed2"  SelectedChipChanged="SelectedChipChanged" Filter="false" Mandatory="true">
    @foreach (var value in values)
    {
        <MudChip Label="true" Text="@value"></MudChip>
    }
</MudChipSet>

Add chips <MudIconButton Icon="@Icons.Material.Filled.Add" OnClick="Add"></MudIconButton>




    @code {
    [CascadingParameter] Deneme Main { get; set; }

    private int currentCount = 0;

    MudChipSet MCS;
    MudChip selected;
    MudChip chip;

    int i = 1;
    List<string> values = new List<string>();
    public void Add() { 
        values.Add("Value " + (i++)); 
    }
    public void OnSelectionChanged()
    {

    }
    public void SelectedChipChanged(MudChip chip) {

    }
    private void Enlist()
    {
        Main.AddIndex(true);
        //Main.AddDynCmp("deneme", typeof(Index), null);

    }

    public void Closed2(MudChip chip) {

        //MCS.OnChipDeleted(chip);
        values.Remove(chip.Text);
    }
    private void IncrementCount()
    {
        currentCount++;
        //Main.cmpDic[Main.ActiveTabKey].CmpText = "aaaaaaaaaaaaaaaa";
        Main.TabSelect(2);
        //selected = null;
        var aaaa = MCS.SelectedChip;

        
    }

    protected override void OnAfterRender(bool firstRender)
    {
        MudChipSet aaa;
        if (firstRender)
            aaa = MCS;

    }

}
